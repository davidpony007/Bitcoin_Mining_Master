# ç¦»çº¿ç”¨æˆ·åˆ›å»ºåŠŸèƒ½æµ‹è¯•æŒ‡å—

## ğŸ“± æµ‹è¯•å‡†å¤‡

### å‰ç½®æ¡ä»¶
- âœ… åº”ç”¨å·²å®‰è£…åˆ°ç‰©ç†è®¾å¤‡ (23078RKD5C)
- âœ… åç«¯æœåŠ¡è¿è¡Œåœ¨ localhost:8888
- âœ… connectivity_plus ä¾èµ–å·²æ·»åŠ 
- âœ… ç¦»çº¿ç”¨æˆ·ç”Ÿæˆé€»è¾‘å·²å®ç°

### æµ‹è¯•å‰æ¸…ç†æ•°æ®
```bash
# æ–¹æ³•1: å¸è½½åº”ç”¨ï¼ˆæ¨èï¼‰
adb uninstall com.cloudminingtool.bitcoin_mining_master
# ç„¶åé‡æ–°å®‰è£…
flutter install -d WCO7CAC6T8CA99OB

# æ–¹æ³•2: æ¸…é™¤åº”ç”¨æ•°æ®
adb shell pm clear com.cloudminingtool.bitcoin_mining_master
```

---

## ğŸ§ª æµ‹è¯•åœºæ™¯

### åœºæ™¯1ï¸âƒ£: æœ‰ç½‘ç»œé¦–æ¬¡å¯åŠ¨ï¼ˆæ­£å¸¸ç”¨æˆ·åˆ›å»ºï¼‰

#### æµ‹è¯•æ­¥éª¤
1. **ç¡®ä¿åç«¯æœåŠ¡è¿è¡Œ**
   ```bash
   cd /Users/davidpony/Desktop/å·¥ç¨‹æ–‡ä»¶å¤¹/Bitcoin_Mining_Master/backend
   npm start
   ```

2. **é…ç½®ç½‘ç»œè¿æ¥**
   - æ‰‹æœºå’Œç”µè„‘è¿æ¥åˆ°**åŒä¸€WiFiç½‘ç»œ**
   - æ‰¾åˆ°ç”µè„‘IPåœ°å€ï¼š
     ```bash
     ifconfig | grep "inet " | grep -v 127.0.0.1
     ```
   - è®°å½•IPåœ°å€ï¼ˆä¾‹å¦‚ï¼š192.168.1.100ï¼‰

3. **ä¿®æ”¹åº”ç”¨APIåœ°å€ï¼ˆä¸´æ—¶æµ‹è¯•ï¼‰**
   - å¦‚æœéœ€è¦æ‰‹æœºè®¿é—®ç”µè„‘åç«¯ï¼Œä¿®æ”¹ `lib/constants/app_constants.dart`ï¼š
     ```dart
     static const String baseUrl = 'http://192.168.1.100:8888/api';
     ```
   - é‡æ–°æ„å»ºAPKï¼š`flutter build apk --release`
   - é‡æ–°å®‰è£…ï¼š`flutter install -d WCO7CAC6T8CA99OB`

4. **é¦–æ¬¡å¯åŠ¨åº”ç”¨**
   - æ‰“å¼€ "Bitcoin Mining Master"
   - è§‚å¯Ÿå¯åŠ¨è¿‡ç¨‹

#### æœŸæœ›ç»“æœ
```
âœ… åº”ç”¨æˆåŠŸå¯åŠ¨
âœ… åç«¯æ—¥å¿—æ˜¾ç¤ºæ–°ç”¨æˆ·åˆ›å»ºæˆåŠŸ
âœ… ç”¨æˆ·IDæ ¼å¼: U{å¹´æœˆæ—¥æ—¶åˆ†ç§’}{5ä½éšæœºæ•°}
   ç¤ºä¾‹: U2026012423451812345
âœ… é‚€è¯·ç æ ¼å¼: INV{å¹´æœˆæ—¥æ—¶åˆ†ç§’}{5ä½éšæœºæ•°}
   ç¤ºä¾‹: INV2026012423451812345
âœ… æ˜¾ç¤ºæ¯”ç‰¹å¸ä»·æ ¼å’Œä½™é¢
âœ… ä¸»ç•Œé¢æ­£å¸¸åŠ è½½
```

#### éªŒè¯æ•°æ®
```bash
# æ–¹æ³•1: æ£€æŸ¥åç«¯æ•°æ®åº“
mysql -u root -p bitcoin_mining_tool -e "SELECT user_id, invitation_code, android_id, register_ip FROM user_information ORDER BY user_creation_time DESC LIMIT 1;"

# æ–¹æ³•2: æŸ¥çœ‹åç«¯æ—¥å¿—
tail -f /Users/davidpony/Desktop/å·¥ç¨‹æ–‡ä»¶å¤¹/Bitcoin_Mining_Master/backend/backend.log

# æ–¹æ³•3: é€šè¿‡APIæŸ¥è¯¢
curl "http://localhost:8888/api/users" | jq '.[-1]'
```

---

### åœºæ™¯2ï¸âƒ£: æ— ç½‘ç»œé¦–æ¬¡å¯åŠ¨ï¼ˆç¦»çº¿ç”¨æˆ·åˆ›å»ºï¼‰

#### æµ‹è¯•æ­¥éª¤
1. **æ¸…é™¤åº”ç”¨æ•°æ®**
   ```bash
   adb shell pm clear com.cloudminingtool.bitcoin_mining_master
   ```

2. **æ–­å¼€ç½‘ç»œè¿æ¥**
   ```bash
   # æ‰‹æœºå¼€å¯é£è¡Œæ¨¡å¼
   # æˆ–è€…ä½¿ç”¨adbå‘½ä»¤
   adb shell svc wifi disable
   adb shell svc data disable
   ```

3. **å¯åŠ¨åº”ç”¨**
   - æ‰“å¼€ "Bitcoin Mining Master"
   - ç­‰å¾…å¯åŠ¨å®Œæˆï¼ˆçº¦3-5ç§’ï¼‰

4. **æ£€æŸ¥åº”ç”¨çŠ¶æ€**
   - æŸ¥çœ‹æ˜¯å¦æ˜¾ç¤ºç¦»çº¿æç¤º
   - æ£€æŸ¥æ˜¯å¦ç”Ÿæˆä¸´æ—¶ç”¨æˆ·ID

#### æœŸæœ›ç»“æœ
```
âœ… åº”ç”¨æˆåŠŸå¯åŠ¨ï¼ˆä¸ä¼šå´©æºƒï¼‰
âœ… ç”Ÿæˆç¦»çº¿ä¸´æ—¶ç”¨æˆ·ID
   æ ¼å¼: OFFLINE_U{æ¯«ç§’æ—¶é—´æˆ³}{5ä½éšæœºæ•°}
   ç¤ºä¾‹: OFFLINE_U170631245678912345
âœ… ç”Ÿæˆç¦»çº¿é‚€è¯·ç 
   æ ¼å¼: OFFLINE_INV{æ¯«ç§’æ—¶é—´æˆ³}{5ä½éšæœºæ•°}
   ç¤ºä¾‹: OFFLINE_INV170631245678912345
âœ… æ˜¾ç¤ºé”™è¯¯æç¤º: "ç¦»çº¿æ¨¡å¼ï¼šæ•°æ®å°†åœ¨ç½‘ç»œæ¢å¤ååŒæ­¥"
âœ… å¯èƒ½æ˜¾ç¤ºç¼“å­˜çš„æ¯”ç‰¹å¸ä»·æ ¼ï¼ˆå¦‚æœæœ‰ï¼‰
âœ… ä¸»ç•Œé¢å¯ä»¥æµè§ˆï¼Œä½†éƒ¨åˆ†åŠŸèƒ½å—é™
```

#### æŸ¥çœ‹åº”ç”¨æ—¥å¿—
```bash
# å®æ—¶æŸ¥çœ‹åº”ç”¨æ—¥å¿—
adb logcat -s flutter:V

# ç­›é€‰ç”¨æˆ·ç›¸å…³æ—¥å¿—
adb logcat | grep -i "user\|offline\|sync"
```

#### æœŸæœ›æ—¥å¿—è¾“å‡º
```
I/flutter: âš ï¸ ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œåˆ›å»ºç¦»çº¿ä¸´æ—¶ç”¨æˆ·: DioException...
I/flutter: âœ… ç¦»çº¿ä¸´æ—¶ç”¨æˆ·åˆ›å»ºæˆåŠŸ: OFFLINE_U170631245678912345
I/flutter: ğŸ“ ç­‰å¾…ç½‘ç»œæ¢å¤åå°†è‡ªåŠ¨åŒæ­¥åˆ°åç«¯
I/flutter: âš ï¸ å½“å‰ä¸ºç¦»çº¿æ¨¡å¼ï¼Œç­‰å¾…ç½‘ç»œæ¢å¤åå°†è‡ªåŠ¨åŒæ­¥
```

---

### åœºæ™¯3ï¸âƒ£: ç¦»çº¿ç”¨æˆ·ç½‘ç»œæ¢å¤åè‡ªåŠ¨åŒæ­¥

#### æµ‹è¯•æ­¥éª¤
1. **ç¡®ä¿åº”ç”¨å¤„äºç¦»çº¿æ¨¡å¼**
   - åº”ç”¨å·²åœ¨ç¦»çº¿çŠ¶æ€ä¸‹å¯åŠ¨
   - ç”¨æˆ·IDä¸º OFFLINE_U... æ ¼å¼

2. **æ¢å¤ç½‘ç»œè¿æ¥**
   ```bash
   # å…³é—­é£è¡Œæ¨¡å¼
   # æˆ–ä½¿ç”¨adbå‘½ä»¤
   adb shell svc wifi enable
   adb shell svc data enable
   ```

3. **è§‚å¯Ÿåº”ç”¨ååº”**
   - ä¿æŒåº”ç”¨åœ¨å‰å°è¿è¡Œ
   - è§‚å¯Ÿ3-10ç§’
   - æŸ¥çœ‹æ—¥å¿—è¾“å‡º

#### æœŸæœ›ç»“æœ
```
âœ… åº”ç”¨è‡ªåŠ¨æ£€æµ‹åˆ°ç½‘ç»œæ¢å¤
âœ… è§¦å‘ç”¨æˆ·åŒæ­¥æµç¨‹
âœ… è°ƒç”¨åç«¯APIåˆ›å»ºæ­£å¼ç”¨æˆ·
âœ… æœ¬åœ°user_idä»OFFLINE_U...æ›´æ–°ä¸ºU...
âœ… æœ¬åœ°invitation_codeä»OFFLINE_INV...æ›´æ–°ä¸ºINV...
âœ… ç¦»çº¿æ ‡è®°ä»trueæ›´æ–°ä¸ºfalse
âœ… é”™è¯¯æç¤ºæ¶ˆå¤±
âœ… è‡ªåŠ¨åˆ·æ–°æ•°æ®ï¼ˆä½™é¢ã€ä»·æ ¼ç­‰ï¼‰
```

#### æœŸæœ›æ—¥å¿—è¾“å‡º
```
I/flutter: ğŸ“¡ ç½‘ç»œå·²æ¢å¤ï¼Œå¼€å§‹åŒæ­¥ç¦»çº¿ç”¨æˆ·æ•°æ®...
I/flutter: æ£€æµ‹åˆ°ç¦»çº¿ä¸´æ—¶ç”¨æˆ·ï¼Œå°è¯•åŒæ­¥åˆ°åç«¯...
I/flutter: æ­£åœ¨é€šè¿‡åç«¯APIåˆ›å»ºæ–°ç”¨æˆ·...
I/flutter: âœ… ç”¨æˆ·åˆ›å»ºæˆåŠŸï¼ˆåœ¨çº¿ï¼‰: U2026012423451812345
I/flutter: å¼€å§‹åŒæ­¥ç¦»çº¿ç”¨æˆ·åˆ°åç«¯...
I/flutter: âœ… ç¦»çº¿ç”¨æˆ·åŒæ­¥æˆåŠŸï¼
I/flutter:    æ—§ID: OFFLINE_U170631245678912345
I/flutter:    æ–°ID: U2026012423451812345
```

#### éªŒè¯åŒæ­¥æˆåŠŸ
```bash
# æ£€æŸ¥åç«¯æ˜¯å¦åˆ›å»ºäº†æ–°ç”¨æˆ·
mysql -u root -p bitcoin_mining_tool -e "SELECT user_id, invitation_code, android_id FROM user_information ORDER BY user_creation_time DESC LIMIT 1;"

# æœŸæœ›ç»“æœ: æ‰¾åˆ°æ–°åˆ›å»ºçš„ç”¨æˆ·ï¼Œuser_idæ ¼å¼ä¸ºU{å¹´æœˆæ—¥æ—¶åˆ†ç§’}{éšæœºæ•°}
```

---

### åœºæ™¯4ï¸âƒ£: å·²æœ‰è´¦å·å†æ¬¡å¯åŠ¨

#### æµ‹è¯•æ­¥éª¤
1. **ç¡®ä¿å·²æœ‰æ­£å¼ç”¨æˆ·è´¦å·**
   - åœºæ™¯1æˆ–åœºæ™¯3æµ‹è¯•é€šè¿‡
   - åº”ç”¨å·²ä¿å­˜æ­£å¼ç”¨æˆ·ID

2. **å…³é—­å¹¶é‡æ–°æ‰“å¼€åº”ç”¨**
   - ä¸è¦æ¸…é™¤æ•°æ®
   - ç›´æ¥é‡æ–°å¯åŠ¨

3. **è§‚å¯Ÿå¯åŠ¨è¿‡ç¨‹**

#### æœŸæœ›ç»“æœ
```
âœ… åº”ç”¨å¿«é€Ÿå¯åŠ¨ï¼ˆä¸è°ƒç”¨åç«¯APIï¼‰
âœ… ç›´æ¥ä»æœ¬åœ°è¯»å–ç”¨æˆ·ID
âœ… æ— ç½‘ç»œè¯·æ±‚æ—¥å¿—
âœ… ç«‹å³æ˜¾ç¤ºä¸»ç•Œé¢
âœ… æ•°æ®æ­£å¸¸åŠ è½½
```

---

## ğŸ” è°ƒè¯•å‘½ä»¤é€ŸæŸ¥è¡¨

### æŸ¥çœ‹å®æ—¶æ—¥å¿—
```bash
# Flutteråº”ç”¨æ—¥å¿—
adb logcat -s flutter:V

# ç­›é€‰ç”¨æˆ·ç›¸å…³
adb logcat | grep -E "user|User|offline|Offline|sync|Sync"

# ç­›é€‰ç½‘ç»œç›¸å…³
adb logcat | grep -E "network|Network|connectivity|Connectivity"
```

### ç½‘ç»œæ§åˆ¶
```bash
# ç¦ç”¨WiFi
adb shell svc wifi disable

# å¯ç”¨WiFi
adb shell svc wifi enable

# ç¦ç”¨ç§»åŠ¨æ•°æ®
adb shell svc data disable

# å¯ç”¨ç§»åŠ¨æ•°æ®
adb shell svc data enable
```

### åº”ç”¨æ•°æ®ç®¡ç†
```bash
# æŸ¥çœ‹åº”ç”¨SharedPreferences
adb shell "run-as com.cloudminingtool.bitcoin_mining_master cat /data/data/com.cloudminingtool.bitcoin_mining_master/shared_prefs/FlutterSharedPreferences.xml"

# æ¸…é™¤åº”ç”¨æ•°æ®
adb shell pm clear com.cloudminingtool.bitcoin_mining_master

# å®Œå…¨å¸è½½
adb uninstall com.cloudminingtool.bitcoin_mining_master
```

### åç«¯éªŒè¯
```bash
# æŸ¥çœ‹æœ€æ–°ç”¨æˆ·
mysql -u root -p bitcoin_mining_tool -e "SELECT user_id, invitation_code, android_id, register_ip, user_creation_time FROM user_information ORDER BY user_creation_time DESC LIMIT 5;"

# é€šè¿‡APIæŸ¥è¯¢
curl "http://localhost:8888/api/users" | jq '.[-1]'

# å®æ—¶ç›‘æ§åç«¯æ—¥å¿—
tail -f backend.log | grep -i "device-login\|create\|user"
```

---

## ğŸ“Š æµ‹è¯•è®°å½•è¡¨

| åœºæ™¯ | ç½‘ç»œçŠ¶æ€ | é¢„æœŸuser_idæ ¼å¼ | æµ‹è¯•ç»“æœ | å¤‡æ³¨ |
|------|---------|----------------|---------|------|
| åœºæ™¯1 | æœ‰ç½‘ç»œ | U2026... | â˜ é€šè¿‡ â˜ å¤±è´¥ | |
| åœºæ™¯2 | æ— ç½‘ç»œ | OFFLINE_U... | â˜ é€šè¿‡ â˜ å¤±è´¥ | |
| åœºæ™¯3 | æ¢å¤ç½‘ç»œ | ä»OFFLINE_Uå˜ä¸ºU | â˜ é€šè¿‡ â˜ å¤±è´¥ | |
| åœºæ™¯4 | ä»»æ„ | ä½¿ç”¨å·²æœ‰ID | â˜ é€šè¿‡ â˜ å¤±è´¥ | |

---

## ğŸš¨ å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜1: åº”ç”¨å¯åŠ¨å´©æºƒ
```bash
# æŸ¥çœ‹å´©æºƒæ—¥å¿—
adb logcat *:E

# å¯èƒ½åŸå› :
# - connectivity_plusä¾èµ–æœªæ­£ç¡®å®‰è£…
# - Androidæƒé™é—®é¢˜
```

### é—®é¢˜2: ç¦»çº¿ç”¨æˆ·æœªè‡ªåŠ¨åŒæ­¥
```bash
# æ£€æŸ¥ç½‘ç»œç›‘å¬æ˜¯å¦å·¥ä½œ
adb logcat | grep -i "connectivity"

# å¯èƒ½åŸå› :
# - connectivity_plusæƒé™æœªæˆäºˆ
# - ç½‘ç»œçŠ¶æ€æœªæ­£ç¡®æ£€æµ‹
# - UserProvideræœªæ­£ç¡®åˆå§‹åŒ–
```

### é—®é¢˜3: åç«¯æ— æ³•è¿æ¥
```bash
# æ£€æŸ¥åç«¯æœåŠ¡
lsof -i:8888

# æ£€æŸ¥ç½‘ç»œé…ç½®
ping <ç”µè„‘IP>

# å¯èƒ½åŸå› :
# - åç«¯æœåŠ¡æœªå¯åŠ¨
# - é˜²ç«å¢™é˜»æ­¢è¿æ¥
# - IPåœ°å€é”™è¯¯
# - æ‰‹æœºå’Œç”µè„‘ä¸åœ¨åŒä¸€ç½‘ç»œ
```

### é—®é¢˜4: user_idæ ¼å¼é”™è¯¯
```bash
# æ£€æŸ¥å­˜å‚¨çš„æ•°æ®
adb shell "run-as com.cloudminingtool.bitcoin_mining_master cat /data/data/com.cloudminingtool.bitcoin_mining_master/shared_prefs/FlutterSharedPreferences.xml" | grep user_id

# å¯èƒ½åŸå› :
# - æ—§æ•°æ®æ®‹ç•™ï¼Œéœ€è¦æ¸…é™¤åº”ç”¨æ•°æ®
# - åç«¯ç”Ÿæˆé€»è¾‘å¼‚å¸¸
```

---

## âœ… éªŒæ”¶æ ‡å‡†

åŠŸèƒ½è§†ä¸ºé€šè¿‡éœ€æ»¡è¶³ï¼š
1. âœ… åœºæ™¯1-4å…¨éƒ¨æµ‹è¯•é€šè¿‡
2. âœ… æ— å´©æºƒæˆ–ä¸¥é‡é”™è¯¯
3. âœ… ç”¨æˆ·IDæ ¼å¼æ­£ç¡®
4. âœ… ç¦»çº¿åŒæ­¥åŠŸèƒ½æ­£å¸¸
5. âœ… æ—¥å¿—è¾“å‡ºç¬¦åˆé¢„æœŸ
6. âœ… åç«¯æ•°æ®æ­£ç¡®åˆ›å»º

---

**æµ‹è¯•ç‰ˆæœ¬**: v1.0.0  
**æµ‹è¯•æ—¥æœŸ**: 2026-01-24  
**æµ‹è¯•è®¾å¤‡**: 23078RKD5C (Android 15)  
**åç«¯ç‰ˆæœ¬**: Node.js v18+
